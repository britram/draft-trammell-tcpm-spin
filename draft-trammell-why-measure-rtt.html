<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Why do we need passive measurement of round trip time?</title>

  
<style type="text/css">/*<![CDATA[*/

body {
  font: 16px "Helvetica Neue","Open Sans",Helvetica,Calibri,sans-serif;
  color: #333;
  font-size-adjust: 0.5;
  line-height: 24px;
  margin: 75px auto;
  max-width: 624px;
  padding: 0 5px;
}

.title, .filename, h1, h2, h3, h4, h5 {
  font: 16px "Roboto Condensed","Helvetica Neue","Open Sans",Helvetica,Calibri,sans-serif;
  font-size-adjust: 0.5;
  font-weight: bold;
  color: #333;
  line-height: 100%;
  margin: 0.8em 0 0.3em;
}
.title, #rfc\.title h1 { font-size: 32px; }
h1, section h1, h2, section h2, section h3, nav h2 { font-size: 20px; }
h3, section h4, h4, section h5 { font-size: 16px; }
h1 a[href], h2 a[href], h3 a[href], h4 a[href] {
  color: #333;
}

table {
  margin-left: 0em;
  border-collapse: collapse;
}
th {
  text-align: left;
  border-bottom: 2px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
  vertical-align: top;
}
tr:nth-child(2n+1) > td,
tr:nth-child(2n+1) > th {
  background-color: #f9f9f9;
}
td.reference {
  max-width: 200px;
  border-top: none;
  padding-right: 1em;
}
.right {
  text-align: right;
}


table.header, table#rfc\.headerblock {
  width: 100%;
}
table.header td, table#rfc\.headerblock td {
  border: none;
  background-color: transparent;
  color: black;
  padding: 0;
}
.filename {
  display: block;
  color: rgb(119, 119, 119);
  font-size: 20px;
  font-weight: normal;
  line-height: 100%;
  margin: 10px 0 32px;
}
#rfc\.abstract+p, #rfc\.abstract p {
  font-size: 20px;
  line-height: 28px;
}

samp, tt, code, pre {
  font: 15px Consolas, monospace;
  font-size-adjust: none;
}
pre {
  background-color: #eee;
  border: 1px solid #ddd;
  overflow-x: auto;
  padding: 5px;
  margin: 5px;
}
.figure, caption {
  font-style: italic;
  margin: 0 1.5em;
  text-align: left;
}

address {
  margin: 16px 2px;
  line-height: 20px;
}
.vcard {
  font-style: normal;
}
.vcardline {
  display: block;
}
.vcardline .fn, address b {
  font-weight: normal;
}
.vcardline .hidden {
  display: none;
}

dl {
  margin-left: 1em;
}
dl.dl-horizontal: {
  margin-left: 0;
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl.nohang > dt {
  float: none;
}
dl > dd {
  margin-bottom: .5em;
}
dl.compact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}

hr {
  border: 0;
  border-top: 1px solid #eee;
}
hr.noprint {
  display: none;
}

a {
  text-decoration: none;
}
a[href] {
  color: #2a6496;
}
a[href]:hover {
  background-color: #eee;
}

ol, ul, li, p {
  padding: 0;
  margin: 0.5em 0 0.5em 2em;
}
li, p {
  margin-left: 0;
}
address {
  font-style: normal;
}

ul.toc ul {
  margin: 0 0 0 2em;
}
ul.toc li {
  list-style: none;
  margin: 0;
}

@media screen and (min-width: 924px) {
  body {
    padding-right: 350px;
  }
  body>ul.toc, body>#rfc\.toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 500px);
    width: 300px;
    z-index: 1;
    overflow: auto;
    overscroll-behavior: contain;
  }
  body>#rfc\.toc {
    top: 55px;
  }
  body>ul.toc {
    top: 100px;
  }

  ul.toc {
    margin: 0 0 0 4px;
    font-size: 12px;
    line-height: 20px;
  }
  ul.toc ul {
    margin-left: 1.2em;
  }
}

.github-fork-ribbon-wrapper {
  display: none;
}
@media screen and (min-width: 800px) {
  /* "Fork me on GitHub" CSS ribbon based on
   * https://github.com/simonwhitaker/github-fork-ribbon-css
   */
  .github-fork-ribbon {
    position: absolute;
    padding: 2px 0;
    background-color: #a00;
    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));
    box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);
    font: 700 12px "Helvetica Neue", Helvetica, Arial, sans-serif;

    pointer-events: auto;

    top: 38px;
    right: -45px;

    transform: rotate(45deg);
  }

  .github-fork-ribbon a[href],
  .github-fork-ribbon a[href]:hover {
    color: #fff;
    background-color: transparent;
    text-decoration: none;
    text-shadow: 0 -1px rgba(0, 0, 0, 0.5);
    text-align: center;

    width: 190px;
    line-height: 18px;

    display: inline-block;
    padding: 2px 0;

    border: 1.5px dotted #fff;
    border-color: rgba(255, 255, 255, 0.6);
  }

  .github-fork-ribbon-wrapper {
    display: block;
    width: 130px;
    height: 130px;
    position: absolute;
    overflow: hidden;
    top: 0; right: 0;
    z-index: 2;
    pointer-events: none;
  }
}
@media screen and (min-width: 1000px) {
  .github-fork-ribbon-wrapper {
    position: fixed;
  }
/*]]>*/</style>
<meta name="viewport" content="initial-scale=1.0">


  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 About This Document">
<link href="#rfc.section.2" rel="Chapter" title="2 Direct Utility of Passive RTT Measurement">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Inter-domain Troubleshooting">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Bufferbloat Mitigation in Cellular Networks">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Locating WiFi Problems in Home Networks">
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 Internet Measurement Research">
<link href="#rfc.section.3" rel="Chapter" title="3 Indirect Utility of RTT Measurements">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Intraflow performance troubleshooting">
<link href="#rfc.section.4" rel="Chapter" title="4 Additional Metrics Derivable from the Spin Bit">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Derived Loss and Reordering">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Two-Point Intradomain Measurement">
<link href="#rfc.section.5" rel="Chapter" title="5 Contributors">
<link href="#rfc.section.6" rel="Chapter" title="6 Acknowledgments">
<link href="#rfc.references" rel="Chapter" title="7 References">
<link href="#rfc.references.1" rel="Chapter" title="7.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="7.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content="xml2rfc version 2.10.0 - https://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Trammell, B." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-trammell-why-measure-rtt" />
  <meta name="dct.issued" scheme="ISO8601" content="2018-07-20" />
  <meta name="dct.abstract" content="This document describes the utility of passive latency measurement, both for the generation of latency metrics, as well as for other measurement tasks, when passive latency measurement is the only facility available for measurement. It additionally discusses other metrics derivable from the transport-independent latency spin signal defined in " />
  <meta name="description" content="This document describes the utility of passive latency measurement, both for the generation of latency metrics, as well as for other measurement tasks, when passive latency measurement is the only facility available for measurement. It additionally discusses other metrics derivable from the transport-independent latency spin signal defined in " />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">QUIC</td>
<td class="right">B. Trammell</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">ETH Zurich</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">July 20, 2018</td>
</tr>
<tr>
<td class="left">Expires: January 21, 2019</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Why do we need passive measurement of round trip time?<br />
  <span class="filename">draft-trammell-why-measure-rtt</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document describes the utility of passive latency measurement, both for the generation of latency metrics, as well as for other measurement tasks, when passive latency measurement is the only facility available for measurement. It additionally discusses other metrics derivable from the transport-independent latency spin signal defined in <a href="#TSVWG-SPIN" class="xref">[TSVWG-SPIN]</a>.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of This Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at https://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on January 21, 2019.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2018 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<ul><li>1.1.   <a href="#rfc.section.1.1">About This Document</a>
</li>
</ul><li>2.   <a href="#rfc.section.2">Direct Utility of Passive RTT Measurement</a>
</li>
<ul><li>2.1.   <a href="#rfc.section.2.1">Inter-domain Troubleshooting</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">Bufferbloat Mitigation in Cellular Networks</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Locating WiFi Problems in Home Networks</a>
</li>
<li>2.4.   <a href="#rfc.section.2.4">Internet Measurement Research</a>
</li>
</ul><li>3.   <a href="#rfc.section.3">Indirect Utility of RTT Measurements</a>
</li>
<ul><li>3.1.   <a href="#rfc.section.3.1">Intraflow performance troubleshooting</a>
</li>
</ul><li>4.   <a href="#rfc.section.4">Additional Metrics Derivable from the Spin Bit</a>
</li>
<ul><li>4.1.   <a href="#rfc.section.4.1">Derived Loss and Reordering</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Two-Point Intradomain Measurement</a>
</li>
</ul><li>5.   <a href="#rfc.section.5">Contributors</a>
</li>
<li>6.   <a href="#rfc.section.6">Acknowledgments</a>
</li>
<li>7.   <a href="#rfc.references">References</a>
</li>
<ul><li>7.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>7.2.   <a href="#rfc.references.2">Informative References</a>
</li>
</ul><li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#introduction" id="introduction">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">[frontmatter goes here]</p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> <a href="#about-this-document" id="about-this-document">About This Document</a>
</h1>
<p id="rfc.section.1.1.p.1">This document is maintained in the GitHub repository https://github.com/britram/draft-trammell-tsvwg-spin, and the editor&#8217;s copy is available online at https://britram.github.io/draft-trammell-tsvwg-spin.  Current open issues on the document can be seen at https://github.com/britram/draft-trammell-tsvwg-spin/issues. Comments and suggestions on this document can be made by filing an issue there, or by contacting the editor.</p>
<p id="rfc.section.1.1.p.2">This document is based in part on [?QUIC-SPIN=I-D.trammell-quic-spin], however, aside from <a href="#more-spin" class="xref">Section 4</a>, it is not specific to the spin bit proposal.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#use-cases" id="use-cases">Direct Utility of Passive RTT Measurement</a>
</h1>
<p id="rfc.section.2.p.1">RTT measurement generates two-way latency metric samples; these samples are useful in many measurement tasks which directly require latency data. The measurement methodologies using two-way latency measurement samples follow one of a few basic variants:</p>
<p></p>

<ul>
<li>The RTT evolution of a flow or a set of flows can be compared to baseline or expected RTT measurements for flows with the same characteristics in order to detect or localize latency issues in a specific network.</li>
<li>The RTT evolution of a single flow can also be examined in detail to diagnose performance issues with that flow.</li>
<li>Samples of RTT for a flow aggregate (e.g., all flows between two given networks) can be used without regard to temporal evolution of the RTT, in order to examine the distribution of RTTs for a group of flows that should have similar RTT (e.g., because they should share the same path(s)).</li>
</ul>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> <a href="#inter-domain-troubleshooting" id="inter-domain-troubleshooting">Inter-domain Troubleshooting</a>
</h1>
<p id="rfc.section.2.1.p.1">Network access providers are often the first point of contact by their customers when network problems impact the performance of bandwidth-intensive and latency-sensitive applications such as video, regardless of whether the root cause lies within the access provider&#8217;s network, the service provider&#8217;s network, on the Internet paths between them, or within the customer&#8217;s own network.</p>
<p id="rfc.section.2.1.p.2">Points on path can extract spatial delay metric samples <a href="#RFC6049" class="xref">[RFC6049]</a> from fields of the transport layer (e.g. TCP) or application layer (e.g. RTP). The information is captured in the upper layer because neither the IP header nor the UDP layer includes fields allowing the measurement of upstream and downstream delay.</p>
<p id="rfc.section.2.1.p.3">Local network performance problems are detected with monitoring tools which observe the variation of upstream latency and downstream latency.</p>
<p id="rfc.section.2.1.p.4">Inter-domain troubleshooting relies on the same metrics but is not a proactive task; instead, it is a recursive process which hones in on the domain and link responsible for the failure. In practice, inter-domain troubleshooting is a communication process between the Network Operations Center (NOC) teams of the networks on the path, because the root cause of a problem is rarely located on a single network, and requires cooperation and exchange of data between the NOCs.</p>
<p id="rfc.section.2.1.p.5">One example is the troubleshooting performance degradation resulting from a change of routing policy on one side of the path which increases queueing on the other side of the path.</p>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> <a href="#bufferbloat-mitigation-in-cellular-networks" id="bufferbloat-mitigation-in-cellular-networks">Bufferbloat Mitigation in Cellular Networks</a>
</h1>
<p id="rfc.section.2.2.p.1">Cellular networks consist of multiple Radio Access Networks (RAN) where mobile devices are attached to base stations. It is common that base stations from different vendors and different generations are deployed in the same cellular network.</p>
<p id="rfc.section.2.2.p.2">Due to the dynamic nature of RANs, base stations have typically been provisioned with large buffers to maximize throughput despite rapid changes in capacity. As a side effect, bufferbloat has become a common issue in such networks <a href="#WWMM-BLOAT" class="xref">[WWMM-BLOAT]</a>.</p>
<p id="rfc.section.2.2.p.3">An effective way of mitigating bufferbloat without sacrificing too much throughput is to deploy Active Queue Management (AQM) in bottleneck routers and base stations. However, due to the variation in deployed base-stations it is not always possible to enable AQM at the bottlenecks, without massive infrastructure investments.</p>
<p id="rfc.section.2.2.p.4">An alternative approach is to deploy AQM as a network function in a more centralized location than the traditional bottleneck nodes. Such an AQM monitors the RTT progression of flows and drops or marks packets when the measured latency is indicative of congestion. Such a function also has the possibility to detect misbehaving flows and reduce the negative impact they have on the network.</p>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> <a href="#locating-wifi-problems-in-home-networks" id="locating-wifi-problems-in-home-networks">Locating WiFi Problems in Home Networks</a>
</h1>
<p id="rfc.section.2.3.p.1">Many residential networks use WiFi (802.11) on the last segment, and WiFi signal strength degradation manifests in high first-hop delay, due to the fact that the MAC layer will retransmit packets lost at that layer. Measuring the RTT between endpoints on the customer network and parts of the service provider&#8217;s own infrastructure (which have predictable delay characteristics) can be used to isolate this cause of performance problems.</p>
<p id="rfc.section.2.3.p.2">The network provider can measure the RTT at the home gateway, or at an upstream point if there is no access to home gateway. A problem in the WiFi network is identified by seeing high delay and low packet loss.</p>
<p id="rfc.section.2.3.p.3">These measurements are particularly useful for traffic which is latency sensitive, such as interactive video applications. However, since high latency is often correlated with other network-layer issues such as chronic interconnect congestion <a href="#IMC-CONGESTION" class="xref">[IMC-CONGESTION]</a>, it is useful for general troubleshooting of network layer issues in an interdomain setting.</p>
<p id="rfc.section.2.3.p.4">In this case, multiple RTT samples per flow are useful less for observing intraflow behavior, and more for generating sufficient samples for a given aggregate to make a high-quality measurement.</p>
<h1 id="rfc.section.2.4">
<a href="#rfc.section.2.4">2.4.</a> <a href="#internet-measurement-research" id="internet-measurement-research">Internet Measurement Research</a>
</h1>
<p id="rfc.section.2.4.p.1">As a large, distributed, engineered system with no centralized control, the Internet has emergent properties of interest to the research community not just for purely scientific curiosity, but also to provide applicable guidance to Internet engineering, Internet protocol design and development, network operations, and policy development. Latency measurements in particular are both an active area of research as well as an important tool for certain measurement studies (see, e.g. <a href="#IMC-TCPSIG" class="xref">[IMC-TCPSIG]</a>, from the most recent Internet Measurement Conference). While much of this work is currently done with active measurements, the ability to generate latency samples passively or using a hybrid measurement approach (i.e., through passive observation of purpose-generated active measurement traffic; see <a href="#RFC7799" class="xref">[RFC7799]</a>) can drastically increase the efficiency and scalability of these studies.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#wireshark" id="wireshark">Indirect Utility of RTT Measurements</a>
</h1>
<p id="rfc.section.3.p.1">In addition to the direct generation of RTT metric samples, RTT measurement can also be used for indirect generation of other metrics when more direct means are not available.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#intraflow-performance-troubleshooting" id="intraflow-performance-troubleshooting">Intraflow performance troubleshooting</a>
</h1>
<p id="rfc.section.3.1.p.1">A variety of tools are used for detailed troubleshooting of the performance of single flows, both for debugging transport- and application-layer protocol implementations, as well as to determine whether a particular end-to-end performance issue is related to particular network conditions. One common type of visualization  used for TCP (implemented, for example, in the TCP Stream Graphs feature of Wireshark, https://www.wireshark.org/) shows the development over time of the sequence and acknowledgment numbers, including retransmissions, and the evolution of the inflight and receiver flow control windows over time. By analyzing the relationship among loss, latency, and throughput, the precise cause of an observed performance on a given flow can be determined.</p>
<p id="rfc.section.3.1.p.2">While RTT measurements on their own are not enough to drive such a visualization, many similar techniques can be built on high-resolution time series RTT data. Here we exploit two properties of transport protocols:</p>
<p></p>

<ul>
<li>The size of the inflight window is equal to the number of bytes/packets sent per RTT, so inflight window evolution can be generated at each RTT sample r at t, and summing the number of bytes/packets sent between t - r and t.</li>
<li>Changes in the inflight window are can be related to sender reactions to congestion. For common loss- and ECN-based congestion control protocols such as NewReno <a href="#RFC6582" class="xref">[RFC6582]</a> and Cubic <a href="#RFC8312" class="xref">[RFC8312]</a>, inflight window reductions are correlated with sender-experienced congestion or loss.</li>
</ul>
<p id="rfc.section.3.1.p.4">Inflight window evolution over time, together with heuristic assumptions about server behavior, can go a long way toward replacing direct visibility of transport protocol dynamics (sequence and acknowledgment number seqence over time) for encrypted transports; the exact details of this are a subject of present and future research.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#more-spin" id="more-spin">Additional Metrics Derivable from the Spin Bit</a>
</h1>
<p id="rfc.section.4.p.1">The latency spin signal mechanism itself <a href="#TSVWG-SPIN" class="xref">[TSVWG-SPIN]</a> has additional measurement utility; these observations do not apply to other methodologies for measuring RTT.</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#derived-loss-and-reordering" id="derived-loss-and-reordering">Derived Loss and Reordering</a>
</h1>
<p id="rfc.section.4.1.p.1">When used alone (as a one-bit signal), measurement systems using the latency spin bit must use heuristics to reject samples which are potentially-lost, potentially-reordered, or potentially-delayed. When these heuristics are instrumented to note their sample rejection rate, this rate itself is a potentially-useful proxy metric for &#8220;difficulty&#8221; (vaguely defined) experienced by a flow.</p>
<p id="rfc.section.4.1.p.2">When the latency signal is used with the Valid Edge Counter (VEC), additional information is available in the wire image to reject samples due to loss, delay, or reordering. Analysis of the VEC together with the series of spin bit values can be used to recognize single loss and reordering events, which can be used to generate loss and reordering metrics at the resolution of the flow&#8217;s round trip time. Optimal use of the VEC signal to generate loss and reordering metric signals is a subject of ongoing research.</p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#two-point-intradomain-measurement" id="two-point-intradomain-measurement">Two-Point Intradomain Measurement</a>
</h1>
<p id="rfc.section.4.2.p.1">The spin bit is also useful as a basic signal for instantaneous measurement of the treatment of traffic carrying the latency spin signal within a single network. Though the primary design goal of the spin bit signal is to enable single-observer on-path measurement of end-to-end RTT, the spin bit can also be used by two cooperating observers with access to traffic flowing in the same direction as an alternate marking signal, as described in <a href="#ALT-MARK" class="xref">[ALT-MARK]</a>. The only difference from alternate marking with a generated signal is that the size of the alternation will change with the flight size each RTT. However, these changes do not affect the applicability of the method that works for each marking batch separately applied between two measurement points on the same direction. This two point measurement is an additional feature enabled &#8220;for free&#8221; by the spin bit signal.</p>
<p id="rfc.section.4.2.p.2">So, with more than one observer on the same direction, it can be useful to segment the RTT and deduce the contribution to the RTT of the portion of the network between two on-path observers. This can be easily performed by calculating the delay between two or more measurement points on a single direction by applying <a href="#ALT-MARK" class="xref">[ALT-MARK]</a>. In this way, packet loss, delay and delay variation can be measured for each segment of the network depending on the number and distribution of the available on-path observation points. When these observation points are applied at network borders, the alternate-marking signal can be used to measure the performance of QUIC traffic within a network operator&#8217;s own domain of responsibility. own portion of the network.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#contributors" id="contributors">Contributors</a>
</h1>
<p id="rfc.section.5.p.1">This document contains text from [QUIC-SPIN], which is the work of the following authors in addition to the editor of this document:</p>
<p></p>

<ul>
<li>Piet De Vaere, ETH Zurich</li>
<li>Roni Even, Huawei</li>
<li>Giuseppe Fioccola, Telecom Italia</li>
<li>Thomas Fossati, Nokia</li>
<li>Marcus Ihlar, Ericsson</li>
<li>Al Morton, AT&amp;T Labs</li>
<li>Emile Stephan, Orange</li>
</ul>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#acknowledgments" id="acknowledgments">Acknowledgments</a>
</h1>
<p id="rfc.section.6.p.1">Thanks to Mark Nottingham for suggesting that this document should exist.</p>
<p id="rfc.section.6.p.2">This work is partially supported by the European Commission under Horizon 2020 grant agreement no. 688421 Measurement and Architecture for a Middleboxed Internet (MAMI), and by the Swiss State Secretariat for Education, Research, and Innovation under contract no. 15.0268. This support does not imply endorsement.</p>
<h1 id="rfc.references">
<a href="#rfc.references">7.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">7.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="QUIC-SPIN-EXP">[QUIC-SPIN-EXP]</b></td>
<td class="top">
<a>Trammell, B.</a> and <a>M. Kuehlewind</a>, "<a href="https://tools.ietf.org/html/draft-ietf-quic-spin-exp">The QUIC Latency Spin Bit</a>", Internet-Draft draft-ietf-quic-spin-exp</td>
</tr>
<tr>
<td class="reference"><b id="TSVWG-SPIN">[TSVWG-SPIN]</b></td>
<td class="top">
<a>Trammell, B.</a>, "<a href="https://tools.ietf.org/html/draft-trammell-tsvwg-spin-00">A Transport-Independent Explicit Signal for Hybrid RTT Measurement</a>", Internet-Draft draft-trammell-tsvwg-spin-00, July 2018.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">7.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="ALT-MARK">[ALT-MARK]</b></td>
<td class="top">
<a>Fioccola, G.</a>, <a>Capello, A.</a>, <a>Cociglio, M.</a>, <a>Castaldelli, L.</a>, <a>Chen, M.</a>, <a>Zheng, L.</a>, <a>Mirsky, G.</a> and <a>T. Mizrahi</a>, "<a href="https://tools.ietf.org/html/draft-ietf-ippm-alt-mark-14">Alternate Marking method for passive and hybrid performance monitoring</a>", Internet-Draft draft-ietf-ippm-alt-mark-14, December 2017.</td>
</tr>
<tr>
<td class="reference"><b id="CACM-TCP">[CACM-TCP]</b></td>
<td class="top">
<a>Strowes, S.</a>, "<a>Passively Measuring TCP Round-Trip Times (in Communications of the ACM)</a>", October 2013.</td>
</tr>
<tr>
<td class="reference"><b id="CARRA-RTT">[CARRA-RTT]</b></td>
<td class="top">
<a>Carra, D.</a>, <a>Avrachenkov, K.</a>, <a>Alouf, S.</a>, <a>Blanc, A.</a>, <a>Nain, P.</a> and <a>G. Post</a>, "<a>Passive Online RTT Estimation for Flow-Aware Routers Using One-Way Traffic (NETWORKING 2010, LNCS 6091, pp. 109&#8211;121)</a>", 2010.</td>
</tr>
<tr>
<td class="reference"><b id="CONUS">[CONUS]</b></td>
<td class="top">
<a>Morton, A.</a>, "<a>Comparison of Backbone Node RTT and Great Circle Distances (https://github.com/acmacm/CONUS-RTT)</a>", September 2017.</td>
</tr>
<tr>
<td class="reference"><b id="IMC-CONGESTION">[IMC-CONGESTION]</b></td>
<td class="top">
<a>Luckie, M.</a>, <a>Dhamdhere, A.</a>, <a>Clark, D.</a>, <a>Huffaker, B.</a> and <a>k. claffy</a>, "<a>Challenges in Inferring Internet Interdomain Congestion (in Proc. ACM IMC 2014)</a>", November 2014.</td>
</tr>
<tr>
<td class="reference"><b id="IMC-TCPSIG">[IMC-TCPSIG]</b></td>
<td class="top">
<a>Sundaresan, S.</a>, <a>Dhamdhere, A.</a>, <a>Allman, M.</a> and <a>. k claffy</a>, "<a>TCP Congestion Signatures (in Proc. ACM IMC 2017)</a>", n.d..</td>
</tr>
<tr>
<td class="reference"><b id="MINQ">[MINQ]</b></td>
<td class="top">
<a>Rescorla, E.</a>, "<a>MINQ, a simple Go implementation of QUIC (https://github.com/ekr/minq)</a>", November 2017.</td>
</tr>
<tr>
<td class="reference"><b id="MOKUMOKUREN">[MOKUMOKUREN]</b></td>
<td class="top">
<a>Trammell, B.</a>, "<a>Mokumokuren, a lightweight flow meter using gopacket (https://github.com/britram/mokumokuren)</a>", November 2017.</td>
</tr>
<tr>
<td class="reference"><b id="NOSPIN">[NOSPIN]</b></td>
<td class="top">
<a>Morton, A.</a>, "<a>Description of a tool chain to evaluate Unidirectional Passive RTT measurement (and results) (https://github.com/acmacm/PassiveRTT)</a>", October 2017.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6049">[RFC6049]</b></td>
<td class="top">
<a>Morton, A.</a> and <a>E. Stephan</a>, "<a href="https://tools.ietf.org/html/rfc6049">Spatial Composition of Metrics</a>", RFC 6049, DOI 10.17487/RFC6049, January 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6582">[RFC6582]</b></td>
<td class="top">
<a>Henderson, T.</a>, <a>Floyd, S.</a>, <a>Gurtov, A.</a> and <a>Y. Nishida</a>, "<a href="https://tools.ietf.org/html/rfc6582">The NewReno Modification to TCP's Fast Recovery Algorithm</a>", RFC 6582, DOI 10.17487/RFC6582, April 2012.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7799">[RFC7799]</b></td>
<td class="top">
<a>Morton, A.</a>, "<a href="https://tools.ietf.org/html/rfc7799">Active and Passive Metrics and Methods (with Hybrid Types In-Between)</a>", RFC 7799, DOI 10.17487/RFC7799, May 2016.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8312">[RFC8312]</b></td>
<td class="top">
<a>Rhee, I.</a>, <a>Xu, L.</a>, <a>Ha, S.</a>, <a>Zimmermann, A.</a>, <a>Eggert, L.</a> and <a>R. Scheffenegger</a>, "<a href="https://tools.ietf.org/html/rfc8312">CUBIC for Fast Long-Distance Networks</a>", RFC 8312, DOI 10.17487/RFC8312, February 2018.</td>
</tr>
<tr>
<td class="reference"><b id="SHBAIR">[SHBAIR]</b></td>
<td class="top">
<a>Shbair, W.</a>, <a>Cholez, T.</a>, <a>Francois, J.</a> and <a>I. Chrisment</a>, "<a>A multi-level framework to identify HTTPS services (in Proc. IEEE/IFIP NOMS)</a>", April 2016.</td>
</tr>
<tr>
<td class="reference"><b id="SPINBIT-REPORT">[SPINBIT-REPORT]</b></td>
<td class="top">
<a>De Vaere, P.</a>, "<a>Latency Spinbit Implementation Experience (https://devae.re/f/eth/quic/spinbit_report/)</a>", November 2017.</td>
</tr>
<tr>
<td class="reference"><b id="TMA-QOF">[TMA-QOF]</b></td>
<td class="top">
<a>Trammell, B.</a>, <a>Gugelmann, D.</a> and <a>N. Brownlee</a>, "<a>Inline Data Integrity Signals for Passive Measurement (in Proc. TMA 2014)</a>", April 2014.</td>
</tr>
<tr>
<td class="reference"><b id="TOKYO-PING">[TOKYO-PING]</b></td>
<td class="top">
<a>Pelsser, C.</a>, <a>Cittadini, L.</a>, <a>Vissicchio, S.</a> and <a>R. Bush</a>, "<a>From Paris to Tokyo - On the Suitability of ping to Measure Latency (In Proc. ACM IMC 2014)</a>", October 2014.</td>
</tr>
<tr>
<td class="reference"><b id="TRILAT">[TRILAT]</b></td>
<td class="top">
<a>Trammell, B.</a>, "<a>On the Suitability of RTT Measurements for Geolocation (https://github.com/britram/trilateration/blob/paper-rev-1/paper.ipynb)</a>", August 2017.</td>
</tr>
<tr>
<td class="reference"><b id="WWMM-BLOAT">[WWMM-BLOAT]</b></td>
<td class="top">
<a>Alfredsson, S.</a>, <a>Giudice, G.</a>, <a>Garcia, J.</a>, <a>Brunstrom, A.</a>, <a>Cicco, L.</a> and <a>S. Mascolo</a>, "<a>Impact of TCP Congestion Control on Bufferbloat in Cellular Networks (in Proc. IEEE WoWMoM 2013)</a>", June 2013.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Brian Trammell</span> 
	  <span class="n hidden">
		<span class="family-name">Trammell</span>
	  </span>
	</span>
	<span class="org vcardline">ETH Zurich</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:ietf@trammell.ch">ietf@trammell.ch</a></span>

  </address>
</div>

</body>
</html>
